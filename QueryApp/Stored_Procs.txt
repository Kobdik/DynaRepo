create proc dbo.sel_Invoice
@Dt_Fst date, @Dt_Lst date 
as
select Idn, Org, Knd, Dt_Invo, Val, Note, Lic, Pnt 
from dbo.T_Invoice
--where Dt_Fst=@Dt_Fst, Dt_Lst=@Dt_Lst 
return 0;

create proc dbo.det_Invoice @Idn int
as
select Idn, Org, Knd, Dt_Invo, Val, Note, Lic, Pnt 
from dbo.T_Invoice
where Idn=@Idn
return 0;

create proc dbo.ins_Invoice
@Idn int out, @Org smallint, @Knd tinyint, @Dt_Invo date, @Val float, @Note varchar(100), @Sdoc tinyint, @Dt_Sdoc date, @Lic int, @Usr varchar(15), @Pnt tinyint 
as
insert into dbo.T_Invoice (Org, Knd, Dt_Invo, Val, Note, Sdoc, Dt_Sdoc, Lic, Usr, Pnt) 
values (@Org, @Knd, @Dt_Invo, @Val, @Note, @Sdoc, @Dt_Sdoc, @Lic, @Usr, @Pnt)
set @Idn=cast(IDENT_CURRENT('dbo.T_Invoice') as int)
return 0;

create proc dbo.upd_Invoice
@Idn int out, @Org smallint, @Knd tinyint, @Dt_Invo date, @Val float, @Note varchar(100), @Sdoc tinyint, @Dt_Sdoc date, @Lic int, @Usr varchar(15), @Pnt tinyint 
as
update dbo.T_Invoice set
Org=@Org, Knd=@Knd, Dt_Invo=@Dt_Invo, Val=@Val, Note=@Note, Sdoc=@Sdoc, Dt_Sdoc=@Dt_Sdoc, Lic=@Lic, Usr=@Usr, Pnt=@Pnt 
where Idn=@Idn
return 0;

